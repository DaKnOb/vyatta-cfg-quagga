help: Set nexthop for routes sent to this neighbor to be the local router

commit:expression: exec "/opt/vyatta/sbin/vyatta-bgp.pl --check-as --as $VAR(../../@) --neighbor $VAR(../@)"

commit:expression: $VAR(../peer-group/) == ""; "protocols bgp $VAR(../../@) neighbor $VAR(../@) next-hop-self: you can't set next-hop-self for a neighbor in a peer-group"

update: if [ -n "$VAR(../remote-as/@)" ]; then 
          peer="remote-as $VAR(../remote-as/@)"; 
        else 
          peer="peer-group $VAR(../peer-group/@)"; 
        fi; 

        if /opt/vyatta/sbin/vyatta-validate-type.pl -q ipv6 $VAR(../@); 
        then
          vtysh -c "configure terminal" \
            -c "router bgp $VAR(../../@)"      \
	    -c "neighbor $VAR(../@) $peer"     \
            -c "address-family ipv6"           \
            -c "neighbor $VAR(../@) next-hop-self"
        else
          vtysh -c "configure terminal" \
            -c "router bgp $VAR(../../@)"      \
	    -c "neighbor $VAR(../@) $peer"     \
            -c "neighbor $VAR(../@) next-hop-self"
        fi

delete: if /opt/vyatta/sbin/vyatta-validate-type.pl -q ipv6 $VAR(../@); 
        then
          vtysh --noerror          \
            -c "configure terminal"       \
            -c "router bgp $VAR(../../@)" \
            -c "address-family ipv6"      \
            -c "no neighbor $VAR(../@) next-hop-self "
        else
          vtysh --noerror          \
            -c "configure terminal"       \
            -c "router bgp $VAR(../../@)" \
            -c "no neighbor $VAR(../@) next-hop-self "
        fi

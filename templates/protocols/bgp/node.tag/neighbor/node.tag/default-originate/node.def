help: Set to send default route to this neighbor

commit:expression: exec "/opt/vyatta/sbin/vyatta-bgp.pl --check-as --as $VAR(../../@) --neighbor $VAR(../@)"

commit:expression: $VAR(../peer-group/) == ""; "protocold bgp $VAR(../../@) neighbor $VAR(../@): you can't set default-originate for a neighbor in a peer-group"

end:  if /opt/vyatta/sbin/vyatta-validate-type.pl -q ipv6 $VAR(../@); then
        vtysh --noerror          \
          -c "configure terminal"       \
          -c "router bgp $VAR(../../@)" \
          -c "address-family ipv6"      \
          -c "no neighbor $VAR(../@) default-originate "; 
      else 
        vtysh --noerror          \
          -c "configure terminal"       \
          -c "router bgp $VAR(../../@)" \
          -c "no neighbor $VAR(../@) default-originate "; 
      fi;

      if [ ${COMMIT_ACTION} = 'SET' -o ${COMMIT_ACTION} = 'ACTIVE' ]; then
        if [ -n "$VAR(./route-map/@)" ]; then 
          cond="route-map $VAR(./route-map/@) " ; 
        fi ; 
	if [ -n "$VAR(../remote-as/@)" ]; then 
           peer="remote-as $VAR(../remote-as/@)"; 
         else 
           peer="peer-group $VAR(../peer-group/@)"; 
        fi; 
        if /opt/vyatta/sbin/vyatta-validate-type.pl -q ipv6 $VAR(../@); then
          vtysh -c "configure terminal" \
            -c "router bgp $VAR(../../@)"      \
            -c "address-family ipv6"           \
	    -c "neighbor $VAR(../@) $peer"     \
            -c "address-family ipv6"           \
            -c "neighbor $VAR(../@) default-originate $cond";
        else
          vtysh -c "configure terminal" \
            -c "router bgp $VAR(../../@)"      \
	    -c "neighbor $VAR(../@) $peer"     \
            -c "neighbor $VAR(../@) default-originate $cond";
        fi;
      fi; 

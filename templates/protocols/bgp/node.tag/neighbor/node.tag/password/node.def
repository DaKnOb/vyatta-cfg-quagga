type: txt
help: Set BGP MD5 password
syntax:expression: exec "			      \
        if [ `echo $VAR(@) | wc -c` -gt 80 ]; then   \
          echo Password must be 80 characters or less;\
          exit 1 ;                                     \
        fi ; "
update: if [ -n "$VAR(../remote-as/@)" ]; then 
          peer="remote-as $VAR(../remote-as/@)"; 
        else 
          peer="peer-group $VAR(../peer-group/@)"; 
        fi; 
        ${vyatta_sbindir}/vyatta-vtysh.pl -c "configure terminal" \
	-c "router bgp $VAR(../../@)" \
	-c "neighbor $VAR(../@) $peer" \
	-c "neighbor $VAR(../@) password $VAR(@)"
delete: ${vyatta_sbindir}/vyatta-vtysh.pl                            \
          -c "configure terminal" -c "router bgp $VAR(../../@)" \
          -c "no neighbor $VAR(../@) password"

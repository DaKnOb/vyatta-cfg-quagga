type: ipv4
help: Set the source IP of routing updates
comp_help: \1  <x.x.x.x>\tIP address of route source
syntax:expression: exec " \
        if [ -z \"`ip addr | grep $VAR(@) `\" ]; then \
          echo $VAR(@) doesn\\'t exist on this system ; \
          exit 1 ; \
        fi ; "
commit:expression: exec "/opt/vyatta/sbin/vyatta-bgp.pl --check-as --as $VAR(../../@) --neighbor $VAR(../@)"
update: if [ -n "$VAR(../remote-as/@)" ]; then 
           peer="remote-as $VAR(../remote-as/@)"; 
         else 
           peer="peer-group $VAR(../peer-group/@)"; 
         fi; 
	 ${vyatta_sbindir}/vyatta-vtysh.pl -c "configure terminal" -c "router bgp $VAR(../../@)" \
	  -c "neighbor $VAR(../@) $peer" \
          -c "neighbor $VAR(../@) update-source $VAR(@)"
delete: ${vyatta_sbindir}/vyatta-vtysh.pl -noerr -c "configure terminal" -c "router bgp $VAR(../../@)" \
          -c "no neighbor $VAR(../@) update-source"

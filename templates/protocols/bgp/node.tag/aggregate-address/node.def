tag:
type: ipv4net
help: Set a BGP aggregate network
comp_help: \1 <x.x.x.x/x>\taggregate network
syntax:expression: exec "${vyatta_sbindir}/check_prefix_boundary $VAR(@)"
delete: touch /tmp/`echo $VAR(@) | sed 's!/!!'`.$PPID 
end:  ${vyatta_sbindir}/vyatta-vtysh.pl -noerr \
       -c "configure terminal" \
       -c "router bgp $VAR(../@)" \
       -c "no aggregate-address $VAR(@)"; 
      if [ -f "/tmp/`echo $VAR(@) | sed 's!/!!'`.$PPID" ]; then 
        rm -rf /tmp/`echo $VAR(@) | sed 's!/!!'`.$PPID; 
      else 
        if ${vyatta_sbindir}/vyatta_quagga_utils.pl --exists 'protocols bgp $VAR(../@) aggregate-address $VAR(@) as-set' ;  then 
          cond="as-set"; 
        fi; 
        if ${vyatta_sbindir}/vyatta_quagga_utils.pl --exists 'protocols bgp $VAR(../@) aggregate-address $VAR(@) summary-only' ;  then 
          cond="$cond summary-only"; 
        fi; 
        ${vyatta_sbindir}/vyatta-vtysh.pl -c "configure terminal" \
          -c "router bgp $VAR(../@)" \
          -c "aggregate-address $VAR(@) $cond"; 
      fi; 

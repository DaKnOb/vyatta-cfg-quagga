help: Set BGP community list
delete:expression: "touch /tmp/policy-route-map-$VAR(../../../@)-$VAR(../../action/@)-$VAR(../../@)-set-comm-list.$PPID"
## this will always return delete pending bug 2525 being fixed
end:expression: "if [ -z \"$VAR(./comm-list/)\" ]; then \
        echo You must configure a comm-list ; \
        exit 1 ; \
      fi ; \
      ${vyatta_sbindir}/vyatta-vtysh.pl -noerr -c \"configure terminal\" \
        -c \"route-map $VAR(../../../@) $VAR(../../action/@) $VAR(../../@)\" \
        -c \"no set comm-list \" ; \
      if [ -f \"/tmp/policy-route-map-$VAR(../../../@)-$VAR(../../action/@)-$VAR(../../@)-set-comm-list.$PPID\" ]; then \
        rm -rf /tmp/policy-route-map-$VAR(../../../@)-$VAR(../../action/@)-$VAR(../../@)-set-comm-list.$PPID; \
      else \
        if [ -n \"$VAR(./delete/)\" ]; then \
          cond=\"delete\" ; \
        fi ; \
        ${vyatta_sbindir}/vyatta-vtysh.pl -c \"configure terminal\" \
          -c \"route-map $VAR(../../../@) $VAR(../../action/@) $VAR(../../@)\" \
          -c \"set comm-list $VAR(./comm-list/@) $cond\" ; \
      fi; "

type: txt
help: Set the Border Gateway Protocl (BGP) community attribute
comp_help: \1  <AA:NN>\tcommunity in 4 octet AS:value format
  local-AS\t\tadvertise communities in local AS only (NO_EXPORT_SUBCONFED)
  no-advertise\tdon't advertise this route to any peer (NO_ADVERTISE)
  no-export\t\tdon't advertise outside of this AS of confederation boundry (NO_EXPORT)
  internet\t\tsymbolic Internet community 0
  The above maybe prefixed by "additive "

allowed:echo "none local-AS no-advertise no-export internet"

syntax:expression: pattern $VAR(@) \
     "^(additive )?([0-9]+:[0-9]+|none|local-AS|no-advertise|no-export|internet)$" \
    ; "\"$VAR(@)\" unknown community string or attribute"

syntax:expression: "$VAR(@)" != "additive none" \
    ; "\"additive none\" is meaningless"

commit:expression: $VAR(../../action/) != "" \
    ; "policy route-map $VAR(../../../@) rule $VAR(../../@): You must specify an action"

update: vyatta-vtysh -c "configure terminal" \
         -c "route-map $VAR(../../../@) $VAR(../../action/@) $VAR(../../@)" \
         -c "set community $VAR(@)"

delete: vyatta-vtysh -c "configure terminal" \
         -c "route-map $VAR(../../../@) $VAR(../../action/@) $VAR(../../@)" \
         -c "no set community " 
